@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
}

/* Editor JS General Fixes */
.ce-block__content, .ce-toolbar__content { max-width: 100%; margin: 0 auto; }

/* Light Mode Contrast for Editor Popovers */
.ce-popover {
  border: 1px solid #e2e8f0;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
}
.ce-popover__item-label {
  color: #1e293b;
  font-weight: 500;
}
.ce-popover__item-icon {
  color: #475569;
  background: transparent;
  box-shadow: none;
}
.ce-popover__item:hover .ce-popover__item-icon {
  background-color: transparent;
}

/* Dark Mode Editor Overrides */
.dark .ce-header, 
.dark .ce-paragraph, 
.dark .cdx-list__item, 
.dark .ce-code__textarea,
.dark .cdx-quote__text, 
.dark .cdx-quote__caption,
.dark .tc-table__cell { 
  color: #f1f5f9; 
}

.dark .ce-code__textarea {
  background-color: #1e293b;
  border: 1px solid #334155;
  color: #a5f3fc;
}

.dark .ce-delimiter:before {
  color: #e2e8f0;
  font-size: 30px;
}

/* Toolbar Buttons (Left Side) */
.dark .ce-toolbar__plus, .dark .ce-toolbar__settings-btn { 
  color: #e2e8f0; 
  background-color: #334155; 
  border: 1px solid #475569;
}
.dark .ce-toolbar__plus:hover, .dark .ce-toolbar__settings-btn:hover { 
  background-color: #475569; 
  color: #fff;
}

/* Popovers / Menus in Dark Mode */
.dark .ce-popover { 
  background-color: #1e293b; 
  border: 1px solid #334155; 
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
}
.dark .ce-popover__item:hover { 
  background-color: #334155; 
}
.dark .ce-popover__item-label { color: #f1f5f9; }
.dark .ce-popover__item-icon { 
  color: #cbd5e1; 
  background-color: transparent;
  box-shadow: none;
}

/* Inline Toolbar (Text Selection) in Dark Mode */
.dark .ce-inline-toolbar { 
  background-color: #1e293b; 
  border: 1px solid #334155; 
  color: #fff; 
}
.dark .ce-inline-tool {
  color: #e2e8f0;
}
.dark .ce-inline-tool:hover { 
  background-color: #334155; 
  color: #fff;
}
.dark .ce-inline-tool--active {
  color: #0d9488; /* Brand Accent */
}
.dark .ce-conversion-toolbar {
  background-color: #1e293b;
  border: 1px solid #334155;
}
.dark .ce-conversion-tool__icon {
  background: transparent;
}
.dark .ce-conversion-tool:hover {
  background-color: #334155;
}

/* Table Tool Dark Mode */
.dark .tc-popover {
  background-color: #1e293b;
  border: 1px solid #334155;
}
.dark .tc-row::after { background: #334155; }

/* Custom Scrollbar */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
.dark ::-webkit-scrollbar-thumb { background: #475569; }